<style media="screen">
  html {
    margin: 0;
    padding: 0;
    background-color: #1E1C26;
  }

  body,
  html {
    width: 100%;
    height: 100%;
    overflow: hidden;
    background-color: #000;
  }
  a {
    color: white;
  }
  a:hover{
    color: #E100FF;
  }

  p {
    position: absolute;
    bottom: 0px;
    right: 0px;
    margin: 20px;
    font-family: Helvetica;
    color: white;
    font-size: 14px;
    z-index: 1;
    transition: 1s;
  }

</style>

<input id="muteBtn" type="image" src="unmuted.svg" style="outline: none; position: absolute; bottom: 0px; margin: 20px; z-index: 1;" onclick="mute()"></input>

<p id="description" >made with <a target="_blank" href="https://www.sketch.com/">Sketch</a>, <a target="_blank" href="https://www.adobe.com/products/aftereffects.html">After Effects</a> and <a target="_blank" href="https://airbnb.design/lottie/">Lottie</a> by <a target="_blank" href="https://reddit.com/u/varusgarcia">u/varusgarcia</a></p>
<div id="svgContainer"></div>



<script src="https://cdnjs.cloudflare.com/ajax/libs/lottie-web/5.7.6/lottie.min.js" type="text/javascript">

</script>
<script type="text/javascript">
  var svgContainer = document.getElementById("svgContainer");
  var animItem = bodymovin.loadAnimation({
    wrapper: svgContainer,
    animType: 'svg',
    loop: true,
    path: 'wsb.json'
  });
  var audio = new Audio('sick_short.mp3');
  var muted = false

  animItem.addEventListener('DOMLoaded', function(e) {
    resizeSVG()

    audio.play();
  })

  animItem.addEventListener('loopComplete', function (e) {
    audio.pause();
    audio.currentTime = 0;
    audio.play();
  })

 var muteBtn = document.getElementById("muteBtn");
 var description = document.getElementById("description")
  function mute(){
    if (muted == false){
      audio.muted = true
      muted = true
      muteBtn.src = "muted.svg"
      description.style.opacity = "0"
    }else {
      audio.muted = false
      muted = false
      muteBtn.src = "unmuted.svg"
      description.style.opacity = "1"
    }

  }

  window.addEventListener('resize', function(event){

    var svg = document.getElementsByTagName('svg')[0];


    if (window.innerWidth/window.innerHeight <= 1.77){
      //height bigger"
      svg.style.height = "100%"
      svg.style.width = "auto"
      var offset = (svg.getBoundingClientRect().width - window.innerWidth)/-2
      svg.style.transform = "translateX(" + offset + "px)"

    } else {
      //console.log("width bigger");

      svg.style.height = "auto"
      svg.style.width = "100%"
      var offset = (svg.getBoundingClientRect().height - window.innerHeight)/-2
      svg.style.transform = "translateY(" + offset + "px)"
    }
  });

  function resizeSVG(){
    var svg = document.getElementsByTagName('svg')[0];


    if (window.innerWidth/window.innerHeight <= 1.77){
      //height bigger"
      svg.style.height = "100%"
      svg.style.width = "auto"
      var offset = (svg.getBoundingClientRect().width - window.innerWidth)/-2
      svg.style.transform = "translateX(" + offset + "px)"

    } else {
      //console.log("width bigger");

      svg.style.height = "auto"
      svg.style.width = "100%"
      var offset = (svg.getBoundingClientRect().height - window.innerHeight)/-2
      svg.style.transform = "translateY(" + offset + "px)"
    }
  }

</script>
